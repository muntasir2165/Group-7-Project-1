<!DOCTYPE html>
<html lang="en-us">

	<head>

		<meta charset="UTF-8">
	 	<title>Personal Dashboard</title>
	 	<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Favicon for the webpage -->
	 	<link rel="icon" href="assets/images/favicon.jpg" type="image/jpeg" sizes="16x16">

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

		<!-- Popper JS -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>

		<!-- Font Awesome icon library -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

		<link rel="stylesheet" type="text/css" href="assets/css/reset.css">

		<link rel="stylesheet" type="text/css" href="assets/css/style.css">

		<link rel="stylesheet" type="text/css" href="assets/css/responsive.css">

	</head>

	<body class="text-center">

		<div class="container">

			<div class="row">
				
				<div class="col-md-2" id="log-in-info">

					<div class="dropdown">
						<button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Not Logged In
						</button>
						<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							<a class="dropdown-item" data-toggle="modal" href="#log-in-modal">Log In</a>
							<a class="dropdown-item" data-toggle="modal" href="#log-out-modal">Log Out</a>
							<a class="dropdown-item" data-toggle="modal" href="#register-modal">Register</a>
							<a class="dropdown-item" data-toggle="modal" href="#save-widget-state-modal">Save Widget State</a>
						</div>
					</div>
				</div>

				<div class="col-md-5 offset-md-5" id="clock"></div>

			</div>

			<div class="row m-3">

		  		<div class="col-md-12">
		    		<div class="widget-btn btn m-1" data-widget="weather"><img class="widget-image" id="weatherImg" src="assets/images/weather.png" alt="Weather Image"></div>
		    		<div class="widget-btn btn m-1" data-widget="news"><img class="widget-image" id="newsImg" src="assets/images/news.png" alt="News Image"></div>
		    		<div class="widget-btn btn m-1" data-widget="gif"><img class="widget-image" id="gifImg" src="assets/images/gif.gif" alt="Gif Gif"></div>
					<div class="widget-btn btn m-1" data-widget="bitcoin"><img class="widget-image" id="coinImage" src="assets/images/bitcoin.png" alt="Bitcoin Image"></div>
					<div class="widget-btn btn m-1" data-widget="youtube"><img class="widget-image" id="tubeImage" src="assets/images/youtube2.png" alt="Youtube Image"></div>
		    		<div class="widget-btn btn m-1" data-widget="trivia"><img class="widget-image" id="triviaImg" src="assets/images/trivia.png" alt="Trivia Image"></div>
					<div class="widget-btn btn m-1" data-widget="movie"><img class="widget-image" id="movieImg" src="assets/images/movie2.svg" alt="Movie Image"></div>
					<a href="#googleMaps"><div class="widget-btn btn m-1" data-widget="googleMaps"><img class="widget-image" id="googleMapsImage" src="assets/images/google-maps.png" alt="Google Maps Image"></div></a>
		    		<div class="widget-btn btn m-1" data-widget="toDoList"><img class="widget-image" id="toDoListImg" src="assets/images/toDoList.png" alt="To Do List Image"></div>
		    	</div>

			</div>

			<div class="row" id="google-search-bar">
				<!-- <div class="col-md-4">
					<form>
					  <div class="form-group">
					    <input type="text" class="form-control" id="username" placeholder="joesmith123">
					  </div>
					  <button id="authenticate-button" type="submit" class="btn btn-success m-1">Authenticate</button>
					  <button id="register-button" type="submit" class="btn btn-primary m-1">Register</button>
					  <button id="save-widget-state-button" type="submit" class="btn btn-warning m-1">Save Widget State</button>
					</form>
					<div id="feedback-div"></div>
				</div> -->

				<div class="col-md-8 offset-md-2 offset-md-right-2">
					<script>
		    			(function() {
						    var cx = '006268431623756602253:kj8bj1_hsoq';
						    var gcse = document.createElement('script');
						    gcse.type = 'text/javascript';
						    gcse.async = true;
						    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
						    var s = document.getElementsByTagName('script')[0];
						    s.parentNode.insertBefore(gcse, s);
		    			})();
					</script>
					<gcse:search enableAutoComplete="true"></gcse:search>
				</div>

			</div>	
			
			<!-- <div class="row">

				<div class="col-md-6 offset-md-3 offset-md-right-3 mt-3 mb-3">
					<div id="clear-localstorage-button" class="btn btn-danger">Clear Local Storage</div>
					<div id="clear-database-button" class="btn btn-danger">Clear Firebase</div>
				</div>

			</div> -->

			<div class="row">
				<div class="col-md-12 border" id="dashboard">
				</div>
			</div>	

			<div class="row" id="googleMaps">

				<div class="col-md-12" id="googleColumn">
					<div>
						<input id="pac-input" class="controls" type="text" placeholder="Search Box">
			    		<div id="map"></div>
					</div>
				</div>

			</div>

		</div>

		<script>
		// This example adds a search box to a map, using the Google Place Autocomplete
		// feature. People can enter geographical searches. The search box will return a
		// pick list containing a mix of places and predicted search terms.

		// This example requires the Places library. Include the libraries=places
		// parameter when you first load the API. For example:
		// <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

		// var map;
		// function initAutocomplete() {
		// 	map = new google.maps.Map(document.getElementById('map'), {
		// 		center: {lat: -34.397, lng: 150.644},
		// 		zoom: 8
		// 	});
		// }

		function initAutocomplete() {
			var map = new google.maps.Map(document.getElementById('map'), {
				center: {lat: -33.8688, lng: 151.2195},
				zoom: 13,
				mapTypeId: 'roadmap'
			});

			// Create the search box and link it to the UI element.
			var input = document.getElementById('pac-input');
			var searchBox = new google.maps.places.SearchBox(input);
			map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

			// Bias the SearchBox results towards current map's viewport.
			map.addListener('bounds_changed', function() {
				searchBox.setBounds(map.getBounds());
			});

			var markers = [];
			// Listen for the event fired when the user selects a prediction and retrieve
			// more details for that place.
			searchBox.addListener('places_changed', function() {
				var places = searchBox.getPlaces();

				if (places.length == 0) {
				return;
				}

				// Clear out the old markers.
				markers.forEach(function(marker) {
				marker.setMap(null);
				});
				markers = [];

				// For each place, get the icon, name and location.
				var bounds = new google.maps.LatLngBounds();
				places.forEach(function(place) {
					if (!place.geometry) {
					console.log("Returned place contains no geometry");
					return;
					}
					var icon = {
						url: place.icon,
						size: new google.maps.Size(71, 71),
						origin: new google.maps.Point(0, 0),
						anchor: new google.maps.Point(17, 34),
						scaledSize: new google.maps.Size(25, 25)
					};

					// Create a marker for each place.
					markers.push(new google.maps.Marker({
						map: map,
						icon: icon,
						title: place.name,
						position: place.geometry.location
					}));

					if (place.geometry.viewport) {
					// Only geocodes have viewport.
						bounds.union(place.geometry.viewport);
					} else {
						bounds.extend(place.geometry.location);
					}
				});
				map.fitBounds(bounds);
			});
		}

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTH8ohbFUOgCxa-QN_5ixBXxLjxrCJTA8&libraries=places&callback=initAutocomplete" async defer></script>

	<!-- Load the associated JavaScript files -->
	<!-- Firebase database -->
	<script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>

	<!-- interact.js -->
	<script src="https://cdn.jsdelivr.net/npm/interactjs@1.3.4/dist/interact.min.js"></script>

	<!-- Moment.js -->
	<script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>

	<!-- Load the associated JavaScript files -->
	<script type="text/javascript" src="assets/javascript/app.js"></script>

		<!-- The Log In Modal -->
		<div class="modal fade" id="log-in-modal">
		  <div class="modal-dialog">
		    <div class="modal-content">

		      <div class="modal-header">
		        <h4 class="modal-title">Log in with your Unique User ID</h4>
		        <button type="button" class="close" data-dismiss="modal">&times;</button>
		      </div>

		      <div class="modal-body">
		        <form>
					<div class="form-group">
						<input type="text" class="form-control" id="log-in-username" placeholder="joesmith123">
					</div>
					<button id="log-in-button" type="submit" class="btn btn-success m-1">Log In</button>
				</form>
				<div id="log-in-feedback-div"></div>
		      </div>

	<!-- 	      <div class="modal-footer">
		        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
		      </div> -->

		    </div>
		  </div>
		</div>

		<!-- The Log Out Modal -->
		<div class="modal fade" id="log-out-modal">
		  <div class="modal-dialog">
		    <div class="modal-content">

		      <div class="modal-header">
		        <h4 class="modal-title">Do you want to log out?</h4>
		        <button type="button" class="close" data-dismiss="modal">&times;</button>
		      </div>

		      <div class="modal-body">
		        <form>
					<button id="log-out-button" type="submit" class="btn btn-danger m-1">Yes</button>
				</form>
				<div id="log-out-feedback-div"></div>
		      </div>

	<!-- 	      <div class="modal-footer">
		        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
		      </div> -->

		    </div>
		  </div>
		</div>

		<!-- The Register Modal -->
		<div class="modal fade" id="register-modal">
		  <div class="modal-dialog">
		    <div class="modal-content">

		      <div class="modal-header">
		        <h4 class="modal-title">Register with a Unique User ID</h4>
		        <button type="button" class="close" data-dismiss="modal">&times;</button>
		      </div>

		      <div class="modal-body">
		        <form>
					<div class="form-group">
						<input type="text" class="form-control" id="register-username" placeholder="joesmith123">
					</div>
					<button id="register-button" type="submit" class="btn btn-success m-1">Register</button>
				</form>
				<div id="register-feedback-div"></div>
		      </div>

	<!-- 	      <div class="modal-footer">
		        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
		      </div> -->

		    </div>
		  </div>
		</div>

		<!-- The Save Widget State Modal -->
		<div class="modal fade" id="save-widget-state-modal">
		  <div class="modal-dialog">
		    <div class="modal-content">

		      <div class="modal-header">
						<h4 class="modal-title">Do you want to save your current widget state? That way, you won't lose your data even if you clear your local storage!</h4>
		        <button type="button" class="close" data-dismiss="modal">&times;</button>
		      </div>

		      <div class="modal-body">
		        <form>
					<button id="save-widget-state-button" type="submit" class="btn btn-success m-1">Save</button>
				</form>
				<div id="save-widget-state-feedback-div"></div>
		      </div>

	<!-- 	      <div class="modal-footer">
		        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
		      </div> -->

		    </div>
		  </div>
		</div>

	</body>

</html>